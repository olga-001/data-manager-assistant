flowchart LR
    A[Notion Database<br/>Ready to process] --> B[Workflow Trigger<br/>(Get many database pages)]

    B --> C[Checking the launch conditions<br/>(n8n Loop)]
    
    C --> D[Unified Input Builder & Normalize<br/>Text + Screenshots + Photos]
    
    D --> E[Entry Assistant<br/>AI Agent #1<br/>Data Extraction]
    
    E --> F[Parse & Normalize Output<br/>Safe JSON]
    
    F --> G[Location Assistant<br/>AI Agent #2<br/>Description Generation]
    
    G --> H[Merge & Validation Layer<br/>Only Empty Fields]
    
    H --> I[Build Notion Update Payload<br/>No Overwrite Logic]
    
    I --> J[Update Notion Page]
    
    J --> K[Set Status<br/>Ready to check]
    
    J -->|Error| K[Set Status<br/>Error + Log]
    
    K --> B
    L --> B
